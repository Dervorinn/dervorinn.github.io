<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generator opisu v0.1</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="script.js"></script>
</head>
<body class="bg-light">
    <div class="mb-4">
      <label for="source" class="form-label">Źródło zgłoszenia:</label>
      <select id="source" class="form-select" onchange="updateDescription()">
        <option value="">-- Wybierz --</option>
        <option value="SI WCPR">SI WCPR</option>
        <option value="Numer miejski">Numer miejski</option>
        <option value="Monitoring">Monitoring</option>
      </select>
    </div>

    <div class="mb-4">
      <label for="message" class="form-label">Treść zgłoszenia:</label>
      <input type="text" id="message" class="form-control" onfocus="this.select()" oninput="updateDescription()" placeholder="Wpisz treść zgłoszenia...">
    </div>

    <div class="mb-4">
      <h3>33.1 Część opisowa:</h3>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="zrmCheckbox" value="ZRM" onchange="updateDescription()">
        <label class="form-check-label" for="zrmCheckbox">ZRM</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="policjaCheckbox" value="Policja" onchange="updateDescription()">
        <label class="form-check-label" for="policjaCheckbox">Policja</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="strazmCheckbox" value="Straż Miejska" onchange="updateDescription()">
        <label class="form-check-label" for="strazmCheckbox">Straż Miejska</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="pgCheckbox" value="Pogotowie gazowe" onchange="updateDescription()">
        <label class="form-check-label" for="pgCheckbox">Pogotowie gazowe</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="paCheckbox" value="Patrol autostradowy" onchange="updateDescription()">
        <label class="form-check-label" for="paCheckbox">Patrol autostradowy</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene copy-eligible" id="pdCheckbox" value="Pomoc drogowa" onchange="updateDescription()">
        <label class="form-check-label" for="pdCheckbox">Pomoc drogowa</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene" id="ownerCheckbox" value="Właściciel" onchange="updateDescription()">
        <label class="form-check-label" for="ownerCheckbox">Właściciel</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene" id="zgCheckbox" value="Zgłaszający" onchange="updateDescription()">
        <label class="form-check-label" for="zgCheckbox">zgłaszający</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" class="form-check-input on-scene" id="admCheckbox" value="Przedstawiciel administracji" onchange="updateDescription()">
        <label class="form-check-label" for="admCheckbox">Administracja</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" id="coCheckbox" class="form-check-input" onchange="toggleCO(); updateDescription()">
        <label class="form-check-label" for="coCheckbox">Tlenek węgla</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="checkbox" id="kdrRightsCheckbox" class="form-check-input" onchange="toggleKDR(); updateDescription()">
        <label class="form-check-label" for="kdrRightsCheckbox">KDR prawa</label>
    </div>

    <div id="coDetails" class="mb-4" style="display: none;">
      <div class="d-flex gap-3">
        <input type="text" id="aptNumber" class="form-control" placeholder="Wpisz numer mieszkania" oninput="updateDescription()">
        <input type="text" id="checkedFlats" class="form-control" placeholder="Wpisz sprawdzone mieszkania" oninput="updateDescription()">
        <input type="text" id="uncheckedFlats" class="form-control" placeholder="Nie dokonano pomiarów - numery" oninput="updateDescription()">
      </div>
      <div class="mt-3 d-flex gap-3">
        <div class="form-check">
          <input type="checkbox" id="evacuation" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="evacuation">Ewakuacja</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kpp" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kpp">KPP</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="drager" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="drager">Drager</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="ban" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="ban">Zakaz</label>
        </div>
      </div>
    </div>

    <div id="kdrDetails" class="mb-4" style="display: none;">
      <div class="d-flex gap-3">
        <div class="form-check">
          <input type="checkbox" id="kdrEvac" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrEvac">Ewakuacja</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kdrBanStay" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrBanStay">Zakaz przebywania</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kdrEvacProp" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrEvacProp">Ewakuacja mienia</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kdrDemol" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrDemol">Prace wyburzeniowe</label>
        </div>
      </div>
      <div class="d-flex gap-3">
        <div class="form-check">
          <input type="checkbox" id="kdrCommBlock" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrCommBlock">Wstrzymania komunikacji</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kdrAcceptUse" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrAcceptUse">Przyjęcia w użytkowanie</label>
        </div>
        <div class="form-check">
          <input type="checkbox" id="kdrAbandonRules" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="kdrAbandonRules">Odstąpienia od zasad uznanych za bezpieczne</label>
        </div>
      </div>
    </div>

    <div class="d-flex gap-3 mb-4">
      <select id="rank" class="form-select" onchange="updateDescription()">
        <option value="">-- Wybierz stopień --</option>
        <option>ogn.</option>
        <option>st. ogn.</option>
        <option>mł. asp.</option>
        <option>asp.</option>
        <option>st. asp.</option>
        <option>asp. sztab.</option>
        <option>mł. kpt.</option>
        <option>kpt.</option>
        <option>st. kpt.</option>
        <option>mł. bryg.</option>
      </select>
      <input type="text" id="officer" class="form-control" placeholder="Imię i nazwisko" oninput="updateDescription()">
      <input type="text" id="fromHour" class="form-control" placeholder="od godz." oninput="formatTime(this); updateDescription()">
      <input type="text" id="toHour" class="form-control" placeholder="do godz." oninput="formatTime(this); updateDescription()">
    </div>
    
    <div class="d-flex gap-3 mb-4">
      <select id="hydrantType" class="form-select" onchange="updateDescription()">
        <option value="">Typ hydrantu</option>
        <option value="podziemny">podziemny</option>
        <option value="nadziemny">nadziemny</option>
      </select>
      <select id="hydrantState" class="form-select" onchange="updateDescription()">
        <option value="">Stan</option>
        <option value="sprawny">sprawny</option>
        <option value="niesprawny">niesprawny</option>
      </select>
      <select id="hydrantMarking" class="form-select" onchange="updateDescription()">
        <option value="">Oznakowanie</option>
        <option value="oznakowany">oznakowany</option>
        <option value="nieoznakowany">nieoznakowany</option>
      </select>
      <input type="text" id="hydrantStreet" class="form-control" placeholder="Ulica" oninput="updateDescription()">
      <div class="form-check">
        <input type="checkbox" id="hydrantLowTemp" class="form-check-input" onchange="updateDescription()">
        <label class="form-check-label" for="hydrantLowTemp">Niska temp.</label>
      </div>
    </div>

    <div class="mb-4">
      <h3>33.4 Pogoda:</h3>
      <div class="d-flex gap-3">
        <input type="text" id="temperature" class="form-control" placeholder="Temperatura (°C)" oninput="updateDescription()">
        <select id="weatherCondition" class="form-select" onchange="updateDescription()">
          <option value="">-- Wybierz warunki pogodowe --</option>
          <option value="brak opadów">brak opadów</option>
          <option value="brak zachmurzenia">brak zachmurzenia</option>
          <option value="zachmurzenie - częściowe">zachmurzenie - częściowe</option>
          <option value="zachmurzenie - całkowite">zachmurzenie - całkowite</option>
          <option value="mgła">mgła</option>
          <option value="opad deszczu">opad deszczu</option>
          <option value="opad śniegu">opad śniegu</option>
        </select>
      </div>
      <div class="d-flex gap-3">
        <input type="text" id="windSpeed" class="form-control" placeholder="Prędkość wiatru (km/h)" oninput="updateDescription(); updateWindSpeedMS();">
        <span id="windSpeedMS">(~0 m/s)</span>
        <select id="windDir" class="form-select" onchange="updateDescription()">
          <option value="">-- Kierunek wiatru --</option>
          <option value="północny">północny</option>
          <option value="północno-wschodni">północno-wschodni</option>
          <option value="wschodni">wschodni</option>
          <option value="południowo-wschodni">południowo-wschodni</option>
          <option value="południowy">południowy</option>
          <option value="południowo-zachodni">południowo-zachodni</option>
          <option value="zachodni">zachodni</option>
          <option value="północno-zachodni">północno-zachodni</option>
        </select>
        <div class="form-check">
          <input type="checkbox" id="pressureToggle" class="form-check-input" onchange="updateDescription()">
          <label class="form-check-label" for="pressureToggle">Uwzględnij ciśnienie</label>
        </div>
        <input type="text" id="pressureVal" class="form-control" placeholder="Ciśnienie (hPa)" oninput="updateDescription()">
      </div>
    </div>

    <div class="mb-4">
      <h3>33.5 Przekazanie miejsca:</h3>
      <select id="status" class="form-select" onchange="updateHandoverStatus()">
        <option value="">-- Wybierz --</option>
        <option value="1">Przekazano</option>
        <option value="2">Służbą wiodącą była Policja</option>
        <option value="3">Brak działań ratowniczych</option>
        <option value="4">Brak właściciela obiektu</option>
        <option value="5">Brak szkód, charakter zdarzenia</option>
        <option value="6">Brak właściciela na miejscu</option>
      </select>
    </div>

    <div class="mb-4">
      <h2>Wygenerowany opis</h2>
      <textarea id="output" class="form-control" style="height: 300px;" readonly></textarea>
      <div class="mt-3">
        <button class="btn btn-primary" onclick="copyOutput()">Kopiuj opis</button>
        <button class="btn btn-secondary" onclick="saveOutput()">Zapisz opis</button>
        <button class="btn btn-info" onclick="copyDescriptionOnly()">Kopiuj część opisową (33.1)</button>
        <button class="btn btn-info" onclick="copySelectedServices()">Skopiuj Służby (33.2)</button>
        <button class="btn btn-info" onclick="copyWeather()">Skopiuj pogodę (33.4)</button>
        <button class="btn btn-info" onclick="copyHandover()">Kopiuj przekazanie miejsca (33.5)</button>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>